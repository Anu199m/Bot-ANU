const schedule = require('node-schedule');
const moment = require('moment-timezone');
const chalk = require('chalk');

module.exports.config = {
    name: 'autosent',
    version: '10.0.0',
    hasPermssion: 0,
    credits: 'SHAAN KHAN',
    description: 'Set Karne Ke Bad Automatically Msg Send Karega',
    commandCategory: 'group messenger',
    usages: '[]',
    cooldowns: 3
};

const messages = [
    { time: '12:00 AM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 12:00 A𝐌 ⏳\n\n  اگر تم ان سے سچ کہو تو وہ خواب سمجھتے ہیں 💕 شکایت کرو تو مذاق سمجھتے ہیں 💕 ہم انہیں کس شدت سے یاد کرتے ہیں 💕 ایک ہی ہے جو یہ سب مذاق سمجھتا ہے…!! 💝💝💝\n ༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '1:00 AM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 1:00 𝗔𝐌 ⏳\n\n ارے چاند ستارے انہیں ایک لات مارو، انہیں بستر سے نیچے اتارو، ان سے لڑو کیونکہ وہ شب بخیر کہے بغیر سو گئے ہیں۔ 💝💝💝\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '2:00 AM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 2:00 A𝐌 ⏳\n\n میں ایک پاگل بچہ ہوں، لیکن میں دل سے سچا ہوں۔ میں تھوڑا سا آوارہ ہوں، لیکن میں آپ کا دیوانہ ہوں۔...!!💝💝💝\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '3:00 AM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 1:30 A𝐌 ⏳\n\n زندگی میں کامیابی کی منزل تک پہنچنے کے لیے خواب ضروری ہیں اور خواب دیکھنے کے لیے نیند ضروری ہے۔ تو اپنی منزل کی طرف پہلا قدم چڑھو اور سو جاؤ...!! شب بخیر 💝💝💝\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '4:00 AM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 4:00 A𝐌 ⏳\n\n ہم رات کی تنہائی میں اکیلے تھے، درد کی محفلوں میں روتے رہے، تم ہمارے لیے کچھ معنی نہ رکھتے پھر بھی تمہیں یاد کیے بغیر سو نہیں سکتے۔...!!💝💝💝\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '5:00 AM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 5:00 A𝐌 ⏳\n\n رات نے اپنی چادر اوڑھ لی ہے اور سورج اپنی کرنیں پھیلا چکا ہے۔ آئیے اٹھیں اور اپنے اللہ کا شکر ادا کریں جس نے ہمیں یہ خوبصورت صبح عطا کی ہے۔...!!💝💝💝\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '6:00 AM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 6:00 𝗔𝐌 ⏳\n\n تیری یادیں ہر صبح میرے ساتھ رہیں، میں پرندوں کی میٹھی آواز سنوں، آپ کے چہرے پر ہمیشہ مسکراہٹ رہے اور آپ میری زندگی میں میرے ساتھ رہیں۔...!!💝💝💝\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '7:00 AM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 7:00 A𝐌 ⏳\n\n میٹھی نیند کے بعد، رات کے خوبصورت خوابوں کے بعد، صبح کچھ نئے خوابوں کے ساتھ، اپنے پیاروں کے ساتھ ہنستے مسکراتے رہیں۔💝💝💝\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '8:00 AM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 8:00 𝗔𝐌 ⏳\n کوئی مندر، کوئی دیوتا، کوئی عبادت، کوئی غسل نہیں، میں صبح اٹھتے ہی سب سے پہلا کام آپ کو ایس ایم ایس کرتا ہوں۔...!!💝💝💝\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '9:00 AM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 9:00 A𝐌 ⏳\n\n یہ گلابی صبح جتنی خوبصورت ہے، آپ کا ہر لمحہ اتنا ہی خوبصورت ہو۔ آپ کے آنے والے کل میں آپ کو آج سے زیادہ خوشیاں نصیب ہوں۔....!!💝💝💝\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '10:00 AM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 10:00 A𝐌 ⏳\n\n میں نے گزارش کی ہے.... 💕 چائے کی پیالی سے اٹھتے دھویں میں تیرا چہرہ دیکھ سکتا ہوں 💕 تیرے خیالوں میں اتنا گم ہوں کہ اکثر میری چائے ٹھنڈی ہو جاتی ہے…...!!!💝💝💝\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '11:00 AM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 11:00 A𝐌 ⏳\n\n تیرا چہرہ میری آنکھوں میں بسنے دے، میں اس کے لیے دن رات مرتا رہوں گا، خدایا جب تک میری سانس ہے، تجھ سے ہی محبت کرتا رہوں گا۔💝💝💝\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '12:00 PM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 12:00 P𝐌 ⏳\n\n کچھ چاند ستارے ہوتے ہیں کچھ پھولوں سے پیارے ہوتے ہیں جو ہر لمحہ یاد رہتے ہیں وہ ہر پل صرف تمہارے ہوتے ہیں....!!💝💝💝\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '1:00 PM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 1:00 𝐏𝐌 ⏳\n\n میں اسے خواب کی طرح سجا کر رکھوں گا اسے ہمیشہ اپنے دل میں چھپا کر رکھوں گا 💕 میری قسمت میرے ساتھ نہیں ورنہ اسے عمر بھر اپنا رکھوں گا....!!💝💝💝\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '2:00 PM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 2:00 𝐏𝐌 ⏳\n آج ایک پہر کی غزل تیرے نام ہونے دو۔ میری خدمت تیرے نام ہو۔ میں تیرا نام لیتا رہوں گا اور صبح کو شام ہونے دوں گا۔💝💝💝\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '3:00 PM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 3:00 𝐏𝐌 ⏳\n\n چچا سورج اوپر چڑھ گیا ہے اور ہمیں شدید گرمی سے ستا رہا ہے۔ اب دوپہر کا کھانا پیٹ تک جانا ہے۔ پھر تکیہ پکڑ کر سکون سے سونا ہے۔💝💝💝\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '4:00 PM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 4:00 𝐏𝐌 ⏳\n\n جب میں تنہائی میں تمہیں یاد کرتا ہوں تو لبوں پر ایک ہی گزارش آتی ہے کہ خدا تمہیں ہر خوشی دے کیونکہ آج بھی میری ساری خوشیاں تمہارے پیچھے آتی ہیں۔💝💝💝\n⁣༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '5:00 PM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 5:00 𝐏𝐌 ⏳\n\n میں تیرے ماتھے کو اپنے ہاتھوں سے سنواروں گا 💕 تجھے اپنا مقدر بناؤں گا 💕 ہوا بھی ہمارے درمیان سے نہیں گزر سکتی 💕 اگر آپ اجازت دیں تو میں آپ کے اتنے قریب آ سکتا ہوں ...!!💝💝💝\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '6:00 PM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 6:00 𝐏𝐌 ⏳\n\n بغیر میک اپ کے معصوم چہرہ 💕 تم ہر معاملے میں سچے لگتے ہو 💕 ہاں تم بالکل میری چائے جیسی ہو 💕 مجھے صرف سیاہ رنگ پسند ہے... ❤️❤️❤️\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '7:00 PM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 7:00 𝐏𝐌 ⏳\n\n چراغ طوفان میں بھی جلتے ہیں۔ 💕 کانٹوں کے درمیان گلاب کھلتے ہیں۔ 💕 مبارک ہے وہ شام جس میں میں تم جیسے لوگوں سے ملتا ہوں۔🥀😌🌴\n⁣༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '8:00 PM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 8:00 𝐏𝐌 ⏳\n\n بے دلی سے مسکرائیں، دکھ کیا ہے؟ کس کی زندگی میں تناؤ کم ہے؟ اچھا یا برا صرف ایک وہم ہے۔ زندگی کا نام ہے کبھی خوشی، کبھی غم۔❤️\n⁣⁣༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '9:00 PM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 9:00 𝐏𝐌 ⏳\n\n دل سے بس یہی دعا ہے 💕 آج پھر مجھے کچھ ہوا ہے شام ہوتے ہی مجھے تم یاد آتے ہیں لگتا ہے تم سے محبت ہو گئی ہے۔ 💝💝💝\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '10:00 PM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 10:00 𝐏𝐌 ⏳\n\n مجھے تیرا چاند سا چہرہ دیکھنے دو۔ مجھے آج شام سجانے کی اجازت دیں۔ مجھے اپنی محبت میں قید کر دے یا مجھے پیار کرنے کی اجازت دے دے۔ 💝\n༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' },
    { time: '11:00 PM', message: '𝄟✮͢🦋⃟≛⃝𝐒𝐇𝐀𝐍 𝐊𝐇𝐀𝐍 𝄟✮⃝❤\n𝐍𝐨𝐰 𝐢𝐭𝐬 𝐭𝐢𝐦𝐞 11:00 P𝐌 ⏳\n\n رات کو جب چاند اور ستارے چمکتے ہیں۔ 💕 ہم تیری یاد کے لیے ہمیشہ ترستے رہتے ہیں۔ 💕 تم ہمیں چھوڑ کر چلے جاؤ 💕 ہم رات بھر آپ سے ملنے کی آرزو رکھتے ہیں۔💝💝💝\n⁣༒𓆩𝐒𝐇𝐀𝐍✯𝐊𝐇𝐀𝐍𓆪༒' }
];

module.exports.onLoad = ({ api }) => {
    console.log(chalk.bold.hex("#00c300")("============ SUCCESFULLY LOADED THE AUTOSENT COMMAND ============"));

    messages.forEach(({ time, message }) => {
        const [hour, minute, period] = time.split(/[: ]/);
        let hour24 = parseInt(hour, 10);
        if (period === 'PM' && hour !== '12') {
            hour24 += 12;
        } else if (period === 'AM' && hour === '12') {
            hour24 = 0;
        }

        const scheduledTime = moment.tz({ hour: hour24, minute: parseInt(minute, 10) }, 'Asia/Karachi').toDate();

        schedule.scheduleJob(scheduledTime, () => {
            global.data.allThreadID.forEach(threadID => {
                api.sendMessage(message, threadID, (error) => {
                    if (error) {
                        console.error(`Failed to send message to ${threadID}:`, error);
                    }
                });
            });
        });
    });
};

module.exports.run = () => {
    // This function can be left empty as the main logic is handled in onLoad
};